import{_ as v,C as T,I as y,J as I,q as s,D as h,O as l,o as R,c as S,e as u,f as n,t as V}from"./index-DAelgNrY.js";var g={VITE_PROJECT_TITLE:"Wanderer",VITE_MEDIA_SERVER:"https://amazoniafuturelab.fh-potsdam.de/media/xingu-entangled/",VITE_WANDERER_STATIC:"./db.json",VITE_WANDERER_SERVER:"https://amazoniafuturelab.fh-potsdam.de/",VITE_LANGUAGES:"en,pt,de",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const D={class:"video"},x=["autoplay","controls","src"],b={class:"subtitle"},A={__name:"TheVideo",props:{letterbox:Boolean},setup(N){const e=T(),i=y(),d=I(),o=s(null),r=s(g.VITE_EXHIBITION_MODE==="true"),p=h(()=>i.getMediaUrl(e.video.file));function c(){var t;o.value!=null&&(e.time=((t=o.value)==null?void 0:t.currentTime)??0)}function _(t){t.target.currentTime=e.playFrom??0,e.playFrom=null}function f(){e.isExternalPlayer?e.requestNext():d.push({name:"graph",params:{type:"graph",id:e.next}})}function m(){o.value!=null&&(e.duration=o.value.duration)}return l(()=>e.playFrom,t=>{t!=null&&(o.value.currentTime=t,e.playFrom=null)}),l(()=>e.setPlaying,t=>{t!=null&&(t?o.value.play():o.value.pause(),e.setPlaying=null)}),(t,a)=>(R(),S("main",D,[u("video",{ref_key:"video",ref:o,crossorigin:"anonymous",autoplay:r.value,controls:!r.value,src:p.value,onLoadstart:_,onEnded:f,onTimeupdate:c,onPause:a[0]||(a[0]=E=>n(e).playing=!1),onPlay:a[1]||(a[1]=E=>n(e).playing=!0),onDurationchange:m},null,40,x),u("div",b,V(n(e).subtitle),1)]))}},B=v(A,[["__scopeId","data-v-3987b7b5"]]);export{B as T};
